#-----------------------------------------------------------------------------------
#
# STIF test script file for testing VCXMyVideosCollectionPluginTest.dll
#
# Tests functionality for multiple drives.
#
#-----------------------------------------------------------------------------------

[StifSettings]
CapsModifier= IptvTestClientApiCapsMod.exe
[EndStifSettings]

[Define]
INCLUDE c:\TestFramework\VCXMVCollectionPluginTest.inc
INCLUDE c:\TestFramework\VCXDrives.inc
INCLUDE c:\TestFramework\VCXConsts.inc
INCLUDE c:\TestFramework\VCXErrors.inc
[Enddefine]

#************************************************************************************
# Sub Cleanup
# Removes all videos from the phone. Collection is opened.
#************************************************************************************
[Sub Cleanup]
print cleanup start
create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV RemoveAllMedia
delete VCXMV

print wait 30sec
pause 3000
print cleanup end
[EndSub]


#------------------------------------------------------------------------------------
#
#  Does configuration for cases in this script.
#  Sets preferred memory to first used drive and sorting order to none.
#  Removes all video files from the device.
#
#------------------------------------------------------------------------------------
[Test]
title ET30160 <not a test> Setup
var CASE ET30160

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

// Remove all videos

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV SetPreferredMemory C_DRIVE
VCXMV SetSortingOrder EVcxMyVideosSortingNone

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV RemoveAllMedia

VCXMV RefreshContents
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

delete VCXMV

pause 2000

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 0
delete VCXMV

Util CheckMobilecrashes
pause 1000
delete Util

print OK!
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests sideloading videos one by one to different drives.
#
#------------------------------------------------------------------------------------
[Test]
title ET30170 Sideload to multiple drives one by one
var CASE ET30170

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

loop 5
VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "C LOOP_COUNTER .mp4"
VCXMV CreateVideoFile IptvTestVideo3Gp E_DRIVE_FORCED "E LOOP_COUNTER .mp4"
VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "F LOOP_COUNTER .mp4"
endloop

VCXMV CheckMediaCount C_DRIVE_FORCED 5
VCXMV CheckMediaCount E_DRIVE_FORCED 5
VCXMV CheckMediaCount F_DRIVE_FORCED 5

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#   Tests sideloading videos to multiple drives at the same time.
#
#------------------------------------------------------------------------------------
[Test]
title ET30171 Sideload to multiple drives
var CASE ET30171

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV CreateVideoFileNoWait IptvTestVideo3Gp C_DRIVE_FORCED "C video.mp4" 60000 5
VCXMV CreateVideoFileNoWait IptvTestVideo3Gp E_DRIVE_FORCED "E video.mp4" 60000 5
VCXMV CreateVideoFileNoWait IptvTestVideo3Gp F_DRIVE_FORCED "F video.mp4" 60000 5

pause 60000

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount C_DRIVE_FORCED 5
VCXMV CheckMediaCount E_DRIVE_FORCED 5
VCXMV CheckMediaCount F_DRIVE_FORCED 5

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests copying video from C to E drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30172 Copy from C to E
var CASE ET30172

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "video.mp4"

VCXMV CopyMedia C_DRIVE_FORCED 0 E_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCopyResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCollectionCategoryChanged
waittestclass VCXMV

VCXMV CheckMediaCount C_DRIVE_FORCED 1
VCXMV CheckMediaCount E_DRIVE_FORCED 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests copying video from C to F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30173 Copy from C to F
var CASE ET30173

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "video.mp4"

VCXMV CopyMedia C_DRIVE_FORCED 0 F_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCopyResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCollectionCategoryChanged
waittestclass VCXMV

VCXMV CheckMediaCount C_DRIVE_FORCED 1
VCXMV CheckMediaCount F_DRIVE_FORCED 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests copying video from F to E drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30174 Copy from F to E
var CASE ET30174

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "video.mp4"

VCXMV CopyMedia F_DRIVE_FORCED 0 E_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCopyResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCollectionCategoryChanged
waittestclass VCXMV

VCXMV CheckMediaCount E_DRIVE_FORCED 1
VCXMV CheckMediaCount F_DRIVE_FORCED 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests copying video from F to C drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30175 Copy from F to C
var CASE ET30175

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "video.mp4"

VCXMV CopyMedia F_DRIVE_FORCED 0 C_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCopyResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCollectionCategoryChanged
waittestclass VCXMV

VCXMV CheckMediaCount C_DRIVE_FORCED 1
VCXMV CheckMediaCount F_DRIVE_FORCED 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests moving a video from C to E drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30176 Move from C to E
var CASE ET30176

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "video.mp4"

VCXMV MoveMedia C_DRIVE_FORCED 0 E_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMoveResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount C_DRIVE_FORCED 0
VCXMV CheckMediaCount E_DRIVE_FORCED 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests moving a video from C to F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30177 Move from C to F
var CASE ET30177

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "video.mp4"

VCXMV MoveMedia C_DRIVE_FORCED 0 F_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMoveResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount C_DRIVE_FORCED 0
VCXMV CheckMediaCount F_DRIVE_FORCED 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests moving a video from F to E drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30178 Move from F to E
var CASE ET30178

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "video.mp4"

VCXMV MoveMedia F_DRIVE_FORCED 0 E_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMoveResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount E_DRIVE_FORCED 1
VCXMV CheckMediaCount F_DRIVE_FORCED 0

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests moving a video from F to C drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30179 Move from F to C
var CASE ET30179

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "video.mp4"

VCXMV MoveMedia F_DRIVE_FORCED 0 C_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMoveResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCollectionItemChanged KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount C_DRIVE_FORCED 1
VCXMV CheckMediaCount F_DRIVE_FORCED 0

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests moving multiple videos from F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30180 Move multiple from F
var CASE ET30180

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "video.mp4" 50000 5

VCXMV CheckMediaCount F_DRIVE_FORCED 5

VCXMV MoveMedias F_DRIVE_FORCED 0 5 E_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMoveResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount F_DRIVE_FORCED 0
VCXMV CheckMediaCount E_DRIVE_FORCED 5

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests moving multiple videos from F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30181 Move multiple to F
var CASE ET30181

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp E_DRIVE_FORCED "video.mp4" 50000 5

VCXMV CheckMediaCount E_DRIVE_FORCED 5

VCXMV MoveMedias E_DRIVE_FORCED 0 5 F_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMoveResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount F_DRIVE_FORCED 5
VCXMV CheckMediaCount E_DRIVE_FORCED 0

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests moving videos from C and E drive to F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30182 Move from C and E to F
var CASE ET30182

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp E_DRIVE_FORCED "F video.mp4" 50000 5
VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "C video.mp4" 50000 5

VCXMV CheckMediaCount E_DRIVE_FORCED 5
VCXMV CheckMediaCount C_DRIVE_FORCED 5

VCXMV MoveMedias ANY_DRIVE 0 10 F_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMoveResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount F_DRIVE_FORCED 10
VCXMV CheckMediaCount E_DRIVE_FORCED 0
VCXMV CheckMediaCount C_DRIVE_FORCED 0

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests moving videos from C, E and F drives to F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30183 Move from C, E and F to F
var CASE ET30183

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp E_DRIVE_FORCED "E video.mp4" 50000 3
VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "C video.mp4" 50000 3
VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "F video.mp4" 50000 3

VCXMV CheckMediaCount E_DRIVE_FORCED 3
VCXMV CheckMediaCount C_DRIVE_FORCED 3
VCXMV CheckMediaCount F_DRIVE_FORCED 3

VCXMV MoveMedias ANY_DRIVE 0 9 F_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMoveResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCommandComplete
allowerrorcodes -11
waittestclass VCXMV

VCXMV CheckMediaCount F_DRIVE_FORCED 9
VCXMV CheckMediaCount E_DRIVE_FORCED 0
VCXMV CheckMediaCount C_DRIVE_FORCED 0

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests copying multiple videos from F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30184 Copy multiple from F
var CASE ET30184

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "video.mp4" 50000 5

VCXMV CheckMediaCount F_DRIVE_FORCED 5

VCXMV CopyMedias F_DRIVE_FORCED 0 5 E_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCopyResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount F_DRIVE_FORCED 5
VCXMV CheckMediaCount E_DRIVE_FORCED 5

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests copying multiple videos to F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30185 Copy multiple to F
var CASE ET30185

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp E_DRIVE_FORCED "video.mp4" 50000 5

VCXMV CheckMediaCount E_DRIVE_FORCED 5

VCXMV CopyMedias E_DRIVE_FORCED 0 5 F_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCopyResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount F_DRIVE_FORCED 5
VCXMV CheckMediaCount E_DRIVE_FORCED 5

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests copying from C and E drives to F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30186 Copy from C and E to F
var CASE ET30186

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp E_DRIVE_FORCED "F video.mp4" 50000 5
VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "C video.mp4" 50000 5

VCXMV CheckMediaCount E_DRIVE_FORCED 5
VCXMV CheckMediaCount C_DRIVE_FORCED 5

VCXMV CopyMedias ANY_DRIVE 0 10 F_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCopyResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CheckMediaCount F_DRIVE_FORCED 10
VCXMV CheckMediaCount E_DRIVE_FORCED 5
VCXMV CheckMediaCount C_DRIVE_FORCED 5

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests copying from C, E and F drives to F drive.
#
#------------------------------------------------------------------------------------
[Test]
title ET30187 Copy from C, E and F to F
var CASE ET30187

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp E_DRIVE_FORCED "E video.mp4" 50000 3
VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "C video.mp4" 50000 3
VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "F video.mp4" 50000 3

VCXMV CheckMediaCount E_DRIVE_FORCED 3
VCXMV CheckMediaCount C_DRIVE_FORCED 3
VCXMV CheckMediaCount F_DRIVE_FORCED 3

VCXMV CopyMedias ANY_DRIVE 0 9 F_DRIVE_FORCED 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCopyResp KVCXMYVideosTestMessageCopyOrMoveStarted KVCXMYVideosTestMessageCommandComplete
allowerrorcodes -11
waittestclass VCXMV

VCXMV CheckMediaCount F_DRIVE_FORCED 9
VCXMV CheckMediaCount E_DRIVE_FORCED 3
VCXMV CheckMediaCount C_DRIVE_FORCED 3

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
#  Tests deleting from multiple drives at the same time.
#
#------------------------------------------------------------------------------------
[Test]
title ET30188 Delete from C, E and F
var CASE ET30188

create VCXTestUtilModule Util
Util CreateMobilecrashWatcher

callsub Cleanup

// TESTCASE START

create  VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

// Get list of videos
VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Create sideloaded video
VCXMV CreateVideoFile IptvTestVideo3Gp E_DRIVE_FORCED "E video.mp4" 50000 3
VCXMV CreateVideoFile IptvTestVideo3Gp C_DRIVE_FORCED "C video.mp4" 50000 3
VCXMV CreateVideoFile IptvTestVideo3Gp F_DRIVE_FORCED "F video.mp4" 50000 3

VCXMV CheckMediaCount E_DRIVE_FORCED 3
VCXMV CheckMediaCount C_DRIVE_FORCED 3
VCXMV CheckMediaCount F_DRIVE_FORCED 3

VCXMV DeleteMedias ANY_DRIVE 0 9 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageDeleteResp KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageDeleteStarted
waittestclass VCXMV

VCXMV CoolDown

VCXMV CheckMediaCount F_DRIVE_FORCED 0
VCXMV CheckMediaCount E_DRIVE_FORCED 0
VCXMV CheckMediaCount C_DRIVE_FORCED 0

print OK!
delete VCXMV
[Endtest]
