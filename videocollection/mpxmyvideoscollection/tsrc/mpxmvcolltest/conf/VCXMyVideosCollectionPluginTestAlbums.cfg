///*
//* Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
//* All rights reserved.
//* This component and the accompanying materials are made available
//* under the terms of the License "Eclipse Public License v1.0"
//* which accompanies this distribution, and is available
//* at the URL "http://www.eclipse.org/legal/epl-v10.html".
//*
//* Initial Contributors:
//* Nokia Corporation - initial contribution.
//*
//* Contributors:
//*
//* Description: 
//*
//*/

#-----------------------------------------------------------------------------------
#
# STIF test script file for testing VCXMyVideosCollectionPluginTest.dll
#
# Tests album functionality.
#
#-----------------------------------------------------------------------------------

[StifSettings]
CapsModifier= VcxTestClientApiCapsMod.exe
[EndStifSettings]

[Define]
INCLUDE c:\TestFramework\VCXMVCollectionPluginTest.inc
INCLUDE c:\TestFramework\VCXDrives.inc
INCLUDE c:\TestFramework\VCXErrors.inc
[Enddefine]


#------------------------------------------------------------------------------------
#
# Removes all videos and albums from the device.
#
#------------------------------------------------------------------------------------
[Sub Cleanup]
print cleanup start

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV RemoveAllMedia
delete VCXMV


create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV DeleteAllAlbums
VCXMV CoolDown

delete VCXMV

pause 2000
print cleanup end
[EndSub]

#------------------------------------------------------------------------------------
#
# Create album at collection root level
#
#------------------------------------------------------------------------------------   
[Test]
title Create album at collection root level

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Open and close album
#
#------------------------------------------------------------------------------------   
[Test]
title Open and close album

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CoolDown

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Create album when category is open
#
#------------------------------------------------------------------------------------   
[Test]
title Create album when category is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Create album when album is open
#
#------------------------------------------------------------------------------------   
[Test]
title Create album when album is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 2

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Create album with long name
#
#------------------------------------------------------------------------------------   
[Test]
title Create album with long name

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum "2KString"
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Create album empty name
#
#------------------------------------------------------------------------------------   
[Test]
title Create album empty name

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum "EmptyString"
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Create album request without album name
#
#------------------------------------------------------------------------------------   
[Test]
title Create album request without album name

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum "InvalidRequest"
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted
waittestclass VCXMV

VCXMV CoolDown

VCXMV CheckAlbumCount 0

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Create two albums with same name
#
#------------------------------------------------------------------------------------   
[Test]
title Create two albums with same name

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum "Video Album same name"
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum "Video Album same name"
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 2

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Create multiple albums
#
#------------------------------------------------------------------------------------   
[Test]
title Create multiple albums

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

loop 10

    VCXMV CreateAlbum "Video Album - LOOP_COUNT "
    VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
    waittestclass VCXMV

endloop

VCXMV CoolDown

VCXMV CheckAlbumCount 10

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Create album with default category name
#
#------------------------------------------------------------------------------------   
[Test]
title Create album with default category name

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum EVcxMyVideosDownloads
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Create album SYNC call
#
#------------------------------------------------------------------------------------   
[Test]
title Create album SYNC call

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album5 1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Create album, opening and closing categories and albums
#
#------------------------------------------------------------------------------------   
[Test]
title Create album, opening and closing categories and albums

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Collection root level
VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

// Category level
VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Collection root level
VCXMV CreateAlbum Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Album level
VCXMV CreateAlbum Album4
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 5

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Add videos to album from category
#
#------------------------------------------------------------------------------------   
[Test]
title Add videos to album from category

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Add different videos to multiple albums from category level.
#
#------------------------------------------------------------------------------------   
[Test]
title Add different videos to multiple albums from category level.

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album2 ANY_DRIVE 1 2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album3 ANY_DRIVE 2 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 1

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 1

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Add same videos to multiple albums from category level.
#
#------------------------------------------------------------------------------------   
[Test]
title Add same videos to multiple albums from category level.

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album2 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album3 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Add videos to album, multiple adds from category level.
#
#------------------------------------------------------------------------------------   
[Test]
title Add videos to album, multiple adds from category level.

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 1 2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 2 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Add videos to same album that is open
#
#------------------------------------------------------------------------------------   
[Test]
title Add videos to same album that is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV SetUseCopiedMedias 1

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Add videos to different album that is open
#
#------------------------------------------------------------------------------------   
[Test]
title Add videos to different album that is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV SetUseCopiedMedias 1

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV AddMediasToAlbum Album2 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 0

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Add video that already exists in the album
#
#------------------------------------------------------------------------------------   
[Test]
title Add video that already exists in the album

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Add multiple videos to album, some exist already in the album
#
#------------------------------------------------------------------------------------   
[Test]
title Add multiple videos to album, some exist already in the album

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 20
VCXMV CheckMediaCount ANY_DRIVE 20

VCXMV CoolDown

// Add first 10 videos to album
VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 10
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Add from 5 to 15 to album.
VCXMV AddMediasToAlbum Album1 ANY_DRIVE 5 15
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 15

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Add videos to album, invalid media ids
#
#------------------------------------------------------------------------------------   
[Test]
title Add videos to album, invalid media ids

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

// Add request with invalid ids
VCXMV AddMediasToAlbum Album1 ANY_DRIVE -1 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Ok case
VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Check that videos have been added.

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Remove videos from album, collection at root level
#
#------------------------------------------------------------------------------------   
[Test]
title Remove videos from album, collection at root level

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV SetUseCopiedMedias 1

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV RemoveMediasFromAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV SetUseCopiedMedias 0

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 0

// Check videos still exist

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Remove videos from album that is open
#
#------------------------------------------------------------------------------------   
[Test]
title Remove videos from album that is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV RemoveMediasFromAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 0

// Check videos still exist

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Remove videos from album when category is open
#
#------------------------------------------------------------------------------------   
[Test]
title Remove videos from album when category is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV RemoveMediasFromAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened 
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 0

// Check videos still exist

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Remove videos from album when other album is open
#
#------------------------------------------------------------------------------------   
[Test]
title Remove videos from album when other album is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album2 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV RemoveMediasFromAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete
waittestclass VCXMV

VCXMV CoolDown

// Check current album

VCXMV CheckMediaCount ANY_DRIVE 3

// Check other album
VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 0

// Check videos still exist

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Remove videos from album, invalid media ids
#
#------------------------------------------------------------------------------------   
[Test]
title Remove videos from album, invalid media ids

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

// Current items are categories and albums, their ids will be used in request.
VCXMV RemoveMediasFromAlbum Album1 ANY_DRIVE 0 1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete
allownextresult KERRARGUMENT
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

// Check videos still exist

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Delete empty album
#
#------------------------------------------------------------------------------------   
[Test]
title Delete empty album

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

VCXMV DeleteAlbums Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumDeleted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 0

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Delete album with videos
#
#------------------------------------------------------------------------------------   
[Test]
title Delete album with videos

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV DeleteAlbums Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumDeleted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Delete album that is open
#
#------------------------------------------------------------------------------------   
[Test]
title Delete album that is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV DeleteAlbums Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumDeleted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Delete album when category is open
#
#------------------------------------------------------------------------------------   
[Test]
title Delete album when category is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV DeleteAlbums Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumDeleted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Delete multiple albums with videos
#
#------------------------------------------------------------------------------------   
[Test]
title Delete multiple albums with videos

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album4
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album2 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album3 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV DeleteAlbums Album1 Album2 Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumDeleted KVCXMYVideosTestMessageMpxAlbumDeleted KVCXMYVideosTestMessageMpxAlbumDeleted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumCount 1

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Delete videos that are in album, category open
#
#------------------------------------------------------------------------------------   
[Test]
title Delete videos that are in album, category open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 5
VCXMV CheckMediaCount ANY_DRIVE 5

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV DeleteMedias ANY_DRIVE 0 3 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageDeleteStarted KVCXMYVideosTestMessageDeleteResp KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 2

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Delete videos that are in in open album
#
#------------------------------------------------------------------------------------   
[Test]
title Delete videos that are in in open album

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 5
VCXMV CheckMediaCount ANY_DRIVE 5

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV DeleteMedias ANY_DRIVE 0 3 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageDeleteStarted KVCXMYVideosTestMessageDeleteResp KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV CheckMediaCount ANY_DRIVE 2

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Delete videos that are that are in multiple albums
#
#------------------------------------------------------------------------------------   
[Test]
title Delete videos that are that are in multiple albums

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 5
VCXMV CheckMediaCount ANY_DRIVE 5

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album2 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album3 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV DeleteMedias ANY_DRIVE 0 3 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageDeleteStarted KVCXMYVideosTestMessageDeleteResp KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

// Check album video count

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV
VCXMV CheckMediaCount ANY_DRIVE 2

// Check album video count

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV
VCXMV CheckMediaCount ANY_DRIVE 2

// Check album video count

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV
VCXMV CheckMediaCount ANY_DRIVE 2

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Delete files of videos in album, category open
#
#------------------------------------------------------------------------------------   
[Test]
title Delete files of videos in album, category open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 5
VCXMV CheckMediaCount ANY_DRIVE 5

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV DeleteFileOfMedia ANY_DRIVE 2
VCXMV DeleteFileOfMedia ANY_DRIVE 1
VCXMV DeleteFileOfMedia ANY_DRIVE 0
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified

VCXMV CoolDown

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 2

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Delete files of videos in open album
#
#------------------------------------------------------------------------------------   
[Test]
title Delete files of videos in open album

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 5
VCXMV CheckMediaCount ANY_DRIVE 5

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV DeleteFileOfMedia ANY_DRIVE 2
VCXMV DeleteFileOfMedia ANY_DRIVE 1
VCXMV DeleteFileOfMedia ANY_DRIVE 0

VCXMV CoolDown

VCXMV CheckMediaCount ANY_DRIVE 2

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Delete files of videos in multiple albums
#
#------------------------------------------------------------------------------------   
[Test]
title Delete files of videos in multiple albums

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 5
VCXMV CheckMediaCount ANY_DRIVE 5

VCXMV CoolDown

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album2 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV AddMediasToAlbum Album3 ANY_DRIVE 0 5
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV DeleteFileOfMedia ANY_DRIVE 2
VCXMV DeleteFileOfMedia ANY_DRIVE 1
VCXMV DeleteFileOfMedia ANY_DRIVE 0

VCXMV CoolDown

// Check album video count

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV
VCXMV CheckMediaCount ANY_DRIVE 2

// Check album video count

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV
VCXMV CheckMediaCount ANY_DRIVE 2

// Check album video count

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV
VCXMV CheckMediaCount ANY_DRIVE 2

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Rename album at collection root level
#
#------------------------------------------------------------------------------------   
[Test]
title Rename album at collection root level

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV RenameAlbum Album1 Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumExists Album2
allownextresult KERRNOTFOUND
VCXMV CheckAlbumExists Album1
VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Rename album when its open
#
#------------------------------------------------------------------------------------   
[Test]
title Rename album when its open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV RenameAlbum Album1 Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumExists Album2
allownextresult KERRNOTFOUND
VCXMV CheckAlbumExists Album1
VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]


#------------------------------------------------------------------------------------
#
# Rename album when another album is open
#
#------------------------------------------------------------------------------------   
[Test]
title Rename album when another album is open

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CreateAlbum Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CoolDown

VCXMV OpenLevel Album3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV RenameAlbum Album1 Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified
waittestclass VCXMV

VCXMV CoolDown

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumExists Album2
VCXMV CheckAlbumExists Album3
allownextresult KERRNOTFOUND
VCXMV CheckAlbumExists Album1
VCXMV CheckAlbumCount 2

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Rename multiple albums
#
#------------------------------------------------------------------------------------   
[Test]
title Rename multiple albums

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

loop 10
    print "Create LOOP_COUNT "
    VCXMV CreateAlbum "Video Album - LOOP_COUNT "
    VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
    waittestclass VCXMV
endloop

VCXMV CoolDown
VCXMV CheckAlbumCount 10

loop 10
    print "Rename LOOP_COUNT "
    VCXMV RenameAlbum "Video Album - LOOP_COUNT " "Renamed - LOOP_COUNT "
    VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified
    waittestclass VCXMV
endloop

VCXMV CoolDown

loop 10
    print "Check LOOP_COUNT "
    VCXMV CheckAlbumExists "Renamed - LOOP_COUNT "
    allownextresult KERRNOTFOUND
    VCXMV CheckAlbumExists "Video Album - LOOP_COUNT "
endloop

VCXMV CheckAlbumCount 10

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Rename album that has videos
#
#------------------------------------------------------------------------------------   
[Test]
title Rename album that has videos

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV OpenLevel EVcxMyVideosAllVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateVideoFile VcxTestVideoMpeg4 DRIVE_1 "video.mp4" ANY_SIZE 3
VCXMV CheckMediaCount ANY_DRIVE 3

VCXMV AddMediasToAlbum Album1 ANY_DRIVE 0 3
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCommandComplete KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CloseLevel
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV RenameAlbum Album1 Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumExists Album2
allownextresult KERRNOTFOUND
VCXMV CheckAlbumExists Album1
VCXMV CheckAlbumCount 1

VCXMV OpenLevel Album2
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CheckMediaCount ANY_DRIVE 3

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Rename album with empty name
#
#------------------------------------------------------------------------------------   
[Test]
title Rename album with empty name

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV RenameAlbum Album1 "EmptyString"
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

allownextresult KERRNOTFOUND
VCXMV CheckAlbumExists Album1
VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]

#------------------------------------------------------------------------------------
#
# Rename album with long name
#
#------------------------------------------------------------------------------------   
[Test]
title Rename album with long name

callsub Cleanup

// TESTCASE START

create VCXMyVideosCollectionPluginTest VCXMV
VCXMV Create

VCXMV OpenCollection VCXCollectionMyVideos
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageCollectionOpened KVCXMYVideosTestMessageListComplete
waittestclass VCXMV

VCXMV CreateAlbum Album1
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumInserted KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV RenameAlbum Album1 "2KString"
VCXMV WaitForMessages 1MINUTE KVCXMYVideosTestMessageMpxAlbumModified KVCXMYVideosTestMessageCollectionOpened
waittestclass VCXMV

VCXMV CheckAlbumExists Album1
VCXMV CheckAlbumCount 1

print OK!
delete VCXMV
[Endtest]

